<h2 class="page-header text-center">Register Page</h2>

<!-- Custom Success/Error Message -->
<div class="row show-hide-message">
  <div [ngClass]="messageClass">
    {{ message }}
  </div>
</div>

<!-- Registration Form -->
<form [formGroup]="form" (submit)="onRegisterSubmit()"  [hidden]="!step1">

  <div class="row">
    <div class="col-xs-offset-1 col-xs-10 col-sm-offset-2 col-sm-8">


      <!-- Username Input -->
      <div class="row">
        <div class='col-xs-12 col-sm-12'>
          <div class="form-group">
            <label for="username">Username</label>
            <div [ngClass]="{'has-error': (form.controls.username.errors && form.controls.username.dirty) || (!usernameValid && form.controls.username.dirty), 'has-success': !form.controls.username.errors && usernameValid}">
              <input type="text" name="username" class="form-control" autocomplete="off" placeholder="*Username" formControlName="username"
                (blur)="checkUsername()" />
              <!-- Validation -->
              <ul class="help-block">
                <li *ngIf="form.controls.username.errors?.required && form.controls.username.dirty">This field is required</li>
                <li *ngIf="form.controls.username.errors?.minlength && form.controls.username.dirty || form.controls.username.errors?.maxlength && form.controls.username.dirty ">Minimum characters: 3, Maximum characters: 15</li>
                <!-- <li *ngIf="form.controls.username.errors?.validateUsername && form.controls.username.dirty">Username must not have any special characters</li> -->
                <li *ngIf="usernameMessage">{{ usernameMessage }}</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Email Input -->
      <div class="row">
        <div class='col-xs-12 col-sm-12'>
          <div class="form-group">
            <label for="email">Email</label>
            <div [ngClass]="{'has-error': (form.controls.email.errors && form.controls.email.dirty) || (!emailValid && form.controls.email.dirty), 'has-success': !form.controls.email.errors && emailValid}">
              <input type="text" name="email" class="form-control" autocomplete="off" placeholder="*Email" formControlName="email" (blur)="checkEmail()"
              />
              <!-- Validation -->
              <ul class="help-block">
                <li *ngIf="form.controls.email.errors?.required && form.controls.email.dirty">This field is required</li>
                <li *ngIf="(form.controls.email.errors?.minlength && form.controls.email.dirty || form.controls.email.errors?.maxlength && form.controls.email.dirty ) && form.controls.email.dirty">Minimum characters: 5, Maximum characters: 30</li>
                <li *ngIf="form.controls.email.errors?.validateEmail && form.controls.email.dirty">This must be a valid e-mail</li>
                <li *ngIf="emailMessage">{{ emailMessage}}</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Password Input -->
      <div class="row">
        <div class='col-xs-12 col-sm-12'>
          <div class="form-group">
            <label for="password">Password</label>
            <div [ngClass]="{'has-error': (form.controls.password.errors && form.controls.password.dirty), 'has-success': !form.controls.password.errors}">
              <input type="password" name="password" class="form-control" autocomplete="off" placeholder="*Password" formControlName="password"
              />
              <!-- Validation -->
              <ul class="help-block">
                <li *ngIf="form.controls.password.errors?.required && form.controls.password.dirty">This field is required</li>
                <li *ngIf="form.controls.password.errors?.minlength && form.controls.password.dirty || form.controls.password.errors?.maxlength && form.controls.password.dirty ">Minimum characters: 8, Maximum characters: 35</li>
                <!-- <li *ngIf="form.controls.password.errors?.validatePassword && form.controls.password.dirty">Password must have at least one uppercase, lowercase, special character, and number</li> -->
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Confirm Password Input -->
      <div class="row">
        <div class='col-xs-12 col-sm-12'>
          <div class="form-group">
            <label for="confirm">Confirm Password</label>
            <div [ngClass]="{'has-error': (form.controls.confirm.errors && form.controls.confirm.dirty) || (form.errors?.matchingPasswords && form.controls.confirm.dirty), 'has-success': !form.controls.confirm.errors && !form.errors?.matchingPasswords}">
              <input type="password" name="confirm" class="form-control" autocomplete="off" placeholder="*Confirm Password" formControlName="confirm"
              />
              <!-- Validation -->
              <ul class="help-block">
                <li *ngIf="form.controls.confirm.errors?.required && form.controls.confirm.dirty">This field is required</li>
                <li *ngIf="form.errors?.matchingPasswords && form.controls.confirm.dirty">Password do not match</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <!-- Role Input -->
      <div class="row">
        <div class='col-xs-12 col-sm-12'>
          <div class="form-group">
            <label for="role">Role</label>
            <div>Investor</div>
            <!-- <div [ngClass]="{'has-error': (form.controls.role.errors && form.controls.role.dirty), 'has-success': !form.controls.role.errors}">
              <input type="password" name="password" class="form-control" autocomplete="off" placeholder="*Password" formControlName="password" />
              <select placeholder="*Role" class="form-control" id="role" formControlName="role" required>
                <option value="investor">Investor</option>
                <option value="enterpreneur">Entrepreneur</option>
              </select>
              Validation
              <ul class="help-block">
                <li *ngIf="form.controls.role.errors?.required && form.controls.role.dirty">This field is required</li>
                <li *ngIf="form.controls.role.errors?.validateRole && form.controls.role.dirty">Must be Valid Role</li>
              </ul>
            </div> -->
          </div>
        </div>
      </div>

      <!-- Submit Input -->
      <!-- <div class="row ">
        <input [disabled]="!form.valid || processing || !emailValid || !usernameValid" class="btn btn-primary"  value="Submit"
        />
      </div> -->
      <!-- <div class="form-group text-center">
        <button type="button" class="btn btn-primary btn-outline-rounded" [disabled]="!form.valid || processing || !emailValid || !usernameValid"
          (click)="showNextstep();">
          Submit</button>
      </div> -->
    </div>
  </div>

  <h3 class="header text-center">Please specify your main interest</h3>

  <div class="row">
    <div class="col-xs-offset-1 col-xs-10 col-sm-offset-2 col-sm-8">

      <div class="row">
        <div class='col-xs-12 col-sm-12'>
          <div class="form-group">
            <label for="subsector">Subsector</label>
            <select class="form-control select-md" name="subsector" type="text" placeholder="Subsector">
              <option *ngFor="let sector of subsectorList" value="{{sector}}">{{sector}}</option>
            </select>
          </div>
        </div>
      </div>

      <div class="row">
        <div class='col-xs-12 col-sm-12'>
          <div class="form-group">
            <label for="indication">Indication</label>
            <select class="form-control select-md" name="indication" type="text" placeholder="Indication">
              <option *ngFor="let indication of indicationList" value="{{indication}}">{{indication}}</option>
            </select>
          </div>
        </div>
      </div>

      <div class="row">
        <div class='col-xs-12 col-sm-12'>
          <div class="form-group">
            <label for="financing">Financing</label>
            <select class="form-control select-md" name="financing" type="text" placeholder="Financing">
              <option *ngFor="let financing of financingList" value="{{financing}}">{{financing}}</option>
            </select>
          </div>
        </div>
      </div>

      <div class="row">
        <div class='col-xs-12 col-sm-12'>
          <div class="form-group">
            <label for="financing">Stage</label>
            <div class="sub-head">Therapeutics:</div>
            <label class="hide-box inline-input" *ngFor="let thera of therapeuticsList">
              <input class="hide-box check-box" type="checkbox" name="thera" value="{{ thera }}" (change)="checkClicked()" />{{ thera }}</label>
            <div class="sub-head">Diagnostics and Health-Tech:</div>
            <label class="hide-box inline-input" *ngFor="let diagnostic of diagnosticsList">
              <input class="hide-box check-box" type="checkbox" name="diagnostic" value="{{ diagnostic }}" (change)="checkClicked()" />{{ diagnostic }}</label>
            <div class="sub-head">Agro:</div>
            <label class="hide-box inline-input" *ngFor="let agro of agroList">
              <input class="hide-box check-box" type="checkbox" name="agro" value="{{ agro }}" (change)="checkClicked()" />{{ agro }}</label>
          </div>
        </div>
      </div>

      <!-- Submit Input -->
      <div class="row text-center">
        <input [disabled]="!form.valid || processing || !emailValid || !usernameValid" class="btn btn-primary" value="Submit" type="submit"
        />
      </div>

    </div>
  </div>

</form>
<!-- Registration Form /-->

<h4 class="text-center" [hidden]="step1">Thank you for your interest. your application will be verified within 48 hours. Please specify your main interest</h4>
